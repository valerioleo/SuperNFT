pragma solidity ^0.8.0;

library SVG {

  function generateSvg(
    string memory description,
    string memory flowRate,
    string memory timeFrame,
    string memory senderBalance,
    string memory daysLeft,
    string memory logo
  ) public pure returns (string memory) {
    string memory svg = string(abi.encodePacked(
      '<svg width="540" height="540" viewBox="0 0 540 540" fill="none" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">',
        '<g>',
          '<title>', description,'</title>',
        '</g>',
        '<path d="M73.9727 68.8235C73.9727 68.8235 82.972 103.615 82.972 103.03V96.3055L83.6538 98.352L89.7897 116.917L91.1532 117.063C93.7972 117.198 96.4353 117.441 99.0617 117.794L90.0624 83.2954V90.4583L89.2442 87.9732L84.6082 73.9398L82.972 68.9697L82.8356 68.8235H73.9727Z" fill="url(#paint0_linear_54_104)"/>',
        '<path d="M73.9727 68.8235L82.972 96.3055L83.6538 98.352L89.7897 116.917L91.1532 117.063C93.7971 117.198 96.4352 117.442 99.0617 117.794L90.0624 90.4583L89.2442 87.9732L84.6082 73.9398L82.972 68.9697V68.8235H73.9727Z" fill="#E50914"/>',
        '<rect width="540" height="540" rx="40" fill="black"/>',
        '<rect width="540" height="540" rx="40" fill="url(#paint1_linear_54_104)" fill-opacity="0.7"/>',
        '<text font-family="SF Pro Display" x="31" y="408" fill="white" font-size="56">$', flowRate,' / ', timeFrame,'</text>',
        '<path d="M34 494C34 487.373 39.3726 482 46 482H493C499.627 482 505 487.373 505 494V494C505 500.627 499.627 506 493 506H46C39.3726 506 34 500.627 34 494V494Z" fill="#3D3D3D"/>',
        '<path d="M34 494C34 487.373 39.3726 482 46 482H145C151.627 482 157 487.373 157 494V494C157 500.627 151.627 506 145 506H46C39.3726 506 34 500.627 34 494V494Z" fill="url(#paint2_linear_54_104)"/>',
        '<path d="M34 494C34 487.373 39.3726 482 46 482H145C151.627 482 157 487.373 157 494V494C157 500.627 151.627 506 145 506H46C39.3726 506 34 500.627 34 494V494Z" fill="#FF00C7" fill-opacity="0.4"/>',
        '<text font-family="SF Pro Display" x="34" y="450" fill="white" font-size="32">', daysLeft,' days left</text>',
        '<text font-family="SF Pro Display" text-anchor="end" x="510" y="106" fill="white" font-size="80">$ ', senderBalance,'</text>',
        '<path d="M416.648 148.469C422.879 148.469 427.547 144.699 428.426 139.094L428.445 138.898H424.109L424.051 139.074C422.996 142.648 420.398 144.602 416.648 144.602C411.434 144.602 408.055 140.422 408.055 133.898V133.879C408.055 127.355 411.414 123.215 416.648 123.215C420.438 123.215 423.055 125.227 423.992 128.527L424.109 128.918H428.445L428.406 128.742C427.527 123.176 422.859 119.348 416.648 119.348C408.66 119.348 403.582 124.934 403.582 133.879V133.898C403.582 142.844 408.66 148.469 416.648 148.469ZM431.502 148H435.721V135.754C435.721 132.688 437.401 130.91 440.116 130.91C440.936 130.91 441.678 131.008 442.01 131.145V127.219C441.678 127.16 441.151 127.062 440.545 127.062C438.202 127.062 436.483 128.566 435.819 130.969H435.721V127.453H431.502V148ZM452.098 148.41C457.079 148.41 460.243 145.441 460.907 142.18L460.946 141.965H456.942L456.884 142.121C456.356 143.664 454.696 144.953 452.196 144.953C448.837 144.953 446.708 142.688 446.63 138.801H461.18V137.375C461.18 131.203 457.645 127.062 451.884 127.062C446.122 127.062 442.411 131.359 442.411 137.785V137.805C442.411 144.289 446.063 148.41 452.098 148.41ZM451.903 130.52C454.657 130.52 456.649 132.258 457.001 135.812H446.688C447.059 132.375 449.169 130.52 451.903 130.52ZM471.737 148.41C474.687 148.41 476.952 146.926 478.183 144.523H478.261V148H482.499V119.816H478.261V130.949H478.183C476.952 128.527 474.609 127.062 471.698 127.062C466.542 127.062 463.144 131.164 463.144 137.707V137.727C463.144 144.27 466.503 148.41 471.737 148.41ZM472.851 144.777C469.511 144.777 467.46 142.102 467.46 137.727V137.707C467.46 133.371 469.53 130.676 472.851 130.676C476.015 130.676 478.28 133.449 478.28 137.707V137.727C478.28 142.004 476.034 144.777 472.851 144.777ZM488.72 124.289C490.107 124.289 491.181 123.195 491.181 121.867C491.181 120.52 490.107 119.426 488.72 119.426C487.353 119.426 486.259 120.52 486.259 121.867C486.259 123.195 487.353 124.289 488.72 124.289ZM486.611 148H490.83V127.453H486.611V148ZM501.992 148.41C502.852 148.41 503.652 148.312 504.141 148.234V144.973C503.828 145.012 503.457 145.051 503.008 145.051C501.23 145.051 500.293 144.426 500.293 142.336V130.812H504.141V127.453H500.293V122.102H495.977V127.453H493.027V130.812H495.977V142.59C495.977 146.691 497.93 148.41 501.992 148.41Z" fill="white"/>',
        '<image x="34" y="34" href="', logo,'"/>',
        '<defs>',
        '<style type="text/css">@import url("https://fonts.cdnfonts.com/css/sf-pro-display");</style>',
        '<linearGradient id="paint0_linear_54_104" x1="80.5176" y1="95.4284" x2="92.6813" y2="91.5605" gradientUnits="userSpaceOnUse">',
        '<stop stop-color="#B20710"/>',
        '<stop offset="0.5"/>',
        '<stop offset="1" stop-color="#B20710"/>',
        '</linearGradient>',
        '<linearGradient id="paint1_linear_54_104" x1="540" y1="-3.99295e-05" x2="-107.732" y2="660.986" gradientUnits="userSpaceOnUse">',
        '<stop stop-color="#3A7AF8"/>',
        '<stop offset="1" stop-opacity="0"/>',
        '</linearGradient>',
        '<linearGradient id="paint2_linear_54_104" x1="124.352" y1="494" x2="54.6496" y2="494" gradientUnits="userSpaceOnUse">',
        '<stop stop-color="#7000FF"/>',
        '<stop offset="1" stop-color="#00FF57" stop-opacity="0"/>',
        '</linearGradient>',
        '</defs>',
      '</svg>'
    ));

    return svg;
  }
}